(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83],{338:e=>{e.exports={header:"Feed_header__XbM4Y",tabs:"Feed_tabs__pvEEk",activeTab:"Feed_activeTab__xcO0Y",profileHeader:"Feed_profileHeader__8MbDB",backButton:"Feed_backButton__VMwi7",nameRow:"Feed_nameRow__kJQoR",sourcesButton:"Feed_sourcesButton__a88KL",grid:"Feed_grid__ivwxW",footer:"Feed_footer__CcI7K",loadMoreButton:"Feed_loadMoreButton__UwlSi",spin:"Feed_spin__8qG9a",hidden:"Feed_hidden__XNITE"}},1113:e=>{e.exports={badge:"VerificationBadges_badge__J613G",verifiedGolden:"VerificationBadges_verifiedGolden__1bZZA",trustedGreen:"VerificationBadges_trustedGreen__Y_AGV",verifiedBlue:"VerificationBadges_verifiedBlue__c_U_g"}},1435:e=>{e.exports={discussionModalSizing:"DiscussionModal_discussionModalSizing___TuZO",modalHeader:"DiscussionModal_modalHeader__QLdgQ",tabs:"DiscussionModal_tabs__IkkI0",activeTab:"DiscussionModal_activeTab__Vel0W",scrollArea:"DiscussionModal_scrollArea__EeR3g",content:"DiscussionModal_content__kHN4V",discussionPost:"DiscussionModal_discussionPost__qRSq6",avatar:"DiscussionModal_avatar__kba8L",mainContent:"DiscussionModal_mainContent__0U8lR",postHeader:"DiscussionModal_postHeader__6_gYO",authorInfo:"DiscussionModal_authorInfo__x4lVn",displayName:"DiscussionModal_displayName__ndUw9",handle:"DiscussionModal_handle__kaCAZ",timestamp:"DiscussionModal_timestamp__qCR8a",postBody:"DiscussionModal_postBody__iE8C8",paragraph:"DiscussionModal_paragraph__zmJNb",embedLink:"DiscussionModal_embedLink__sHE7W",stats:"DiscussionModal_stats__9f2sE",imageGrid:"DiscussionModal_imageGrid__arkbg",gridImage:"DiscussionModal_gridImage__nlvbW"}},2219:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(5155),i=t(2115),n=t(4178),r=t(2771),o=t.n(r);function l({children:e,onClose:s,className:t=""}){return(0,i.useEffect)(()=>{document.body.style.overflow="hidden";let e=e=>{"Escape"===e.key&&s()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e),document.body.style.overflow=""}},[s]),(0,a.jsx)("div",{className:o().overlay,onClick:s,children:(0,a.jsxs)("div",{className:`${o().modal} ${t}`,onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("button",{className:o().closeButton,onClick:s,children:(0,a.jsx)(n.X,{size:24})}),e]})})}},2498:(e,s,t)=>{"use strict";t.d(s,{L:()=>o,ScrollProvider:()=>r});var a=t(5155),i=t(2115);let n=(0,i.createContext)({isScrollingUp:!0}),r=({children:e})=>{let[s,t]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{let e=window.scrollY,s=()=>{let s=window.scrollY;s<=5?t(!0):(s>e+5?t(!1):s<e-5&&t(!0),e=s)};return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[]),(0,a.jsx)(n.Provider,{value:{isScrollingUp:s},children:e})},o=()=>(0,i.useContext)(n)},2699:(e,s,t)=>{"use strict";t.d(s,{A:()=>g});var a=t(5155),i=t(2115),n=t(9704),r=t(3497),o=t(2219),l=t(3423),d=t(7431),c=t(9513),u=t(2752),p=t(9230),h=t(4864),m=t(686),_=t(7757),x=t(1435),f=t.n(x);function v({post:e,activeTab:s}){if(!e||!e.author)return null;let t=`https://bsky.app/profile/${e.author.handle}/post/${e.uri.split("/").pop()}`,i=e.embed?.$type==="app.bsky.embed.images#view"&&e.embed.images?.length>0,o=e.embed?.$type?.includes("app.bsky.embed.video"),x=e.embed?.$type?.includes("app.bsky.embed.record");return(0,a.jsxs)("div",{className:f().discussionPost,children:[(0,a.jsx)("img",{src:e.author.avatar||"/profile.svg",alt:e.author.displayName,className:f().avatar,onError:e=>{e.target.src="/profile.svg"}}),(0,a.jsxs)("div",{className:f().mainContent,children:[(0,a.jsxs)("div",{className:f().postHeader,children:[(0,a.jsxs)("div",{className:f().authorInfo,children:[(0,a.jsx)("span",{className:f().displayName,children:e.author.displayName}),(0,a.jsx)(c.A,{actor:e.author}),(0,a.jsxs)("span",{className:f().handle,children:["@",e.author.handle]}),(0,a.jsx)("span",{className:f().timestamp,children:(0,n.E)(e.indexedAt)})]}),(0,a.jsx)(d.A,{post:e})]}),(0,a.jsxs)("div",{className:f().postBody,children:[e.record?.text&&(0,a.jsx)(l.A,{text:e.record.text,facets:e.record.facets}),i&&(0,a.jsx)("div",{className:f().imageGrid,children:e.embed.images.map(e=>(0,a.jsx)("a",{href:e.fullsize,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)("img",{src:e.thumb,alt:e.alt||"embedded image",className:f().gridImage})},e.fullsize))}),o&&(0,a.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:f().embedLink,children:[(0,a.jsx)(u.v,{})," Video available on Bluesky"]}),x&&"quotes"!==s&&(0,a.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:f().embedLink,children:[(0,a.jsx)(p.C,{size:20,weight:"fill"})," View quoted post on Bluesky"]})]}),(0,a.jsxs)("div",{className:f().stats,children:[(0,a.jsxs)("span",{children:[(0,a.jsx)(h.B,{size:18,weight:"bold"})," ",(0,r.Z)(e.likeCount)]}),(0,a.jsxs)("span",{children:[(0,a.jsx)(m.k,{size:18,weight:"bold"})," ",(0,r.Z)(e.repostCount)]}),(0,a.jsxs)("span",{children:[(0,a.jsx)(_.D,{size:18,weight:"bold"})," ",(0,r.Z)(e.bookmarkCount)]})]})]})]})}function g({post:e,onClose:s}){let[t,n]=(0,i.useState)("replies"),[r,l]=(0,i.useState)([]),[d,c]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{(async()=>{if(!e)return;c(!0),l([]);let s="https://public.api.bsky.app/xrpc",a="";a="replies"===t?`${s}/app.bsky.feed.getPostThread?uri=${e.uri}`:`${s}/app.bsky.feed.getQuotes?uri=${e.uri}`;try{let e=await fetch(a),s=await e.json();if("replies"===t){let e=s=>{let t=[];return s.replies?.length>0&&s.replies.forEach(s=>{s.post&&t.push(s.post),t=t.concat(e(s))}),t},t=s.thread?e(s.thread):[];l(t.filter(Boolean))}else l(s.posts||[])}catch(e){console.error("Failed to fetch discussions:",e)}finally{c(!1)}})()},[e,t]),e)?(0,a.jsxs)(o.A,{onClose:s,className:f().discussionModalSizing,children:[(0,a.jsxs)("div",{className:f().modalHeader,children:[(0,a.jsx)("h2",{children:"Discussions"}),(0,a.jsxs)("div",{className:f().tabs,children:[(0,a.jsxs)("button",{onClick:()=>n("replies"),className:"replies"===t?f().activeTab:"",children:["Replies (",e.replyCount,")"]}),(0,a.jsxs)("button",{onClick:()=>n("quotes"),className:"quotes"===t?f().activeTab:"",children:["Quotes (",e.quoteCount,")"]})]})]}),(0,a.jsx)("div",{className:f().scrollArea,children:(0,a.jsx)("div",{className:f().content,children:d?(0,a.jsx)("p",{children:"Loading..."}):r.length>0?r.map(e=>(0,a.jsx)(v,{post:e,activeTab:t},e.uri)):(0,a.jsxs)("p",{children:["No ",t," yet."]})})})]}):null}},2771:e=>{e.exports={overlay:"Modal_overlay__H1W1N","overlay-active":"Modal_overlay-active__KXKez",modal:"Modal_modal__Ky8Vq",closeButton:"Modal_closeButton__4X7A2"}},3002:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var a=t(5155),i=t(2115),n=t(9698);let r=JSON.parse('{"D":["Your identity lives on the AT Protocol, not locked to one company","Federation means servers talk to each other, just like email","On Bluesky, you can take your followers anywhere. True portability.","Your data, your rules. Personal Data Servers put you in control","Choose your own algorithm. Custom feeds mean you decide what you see","Decentralization isn\'t chaos—it\'s choice and freedom","No platform lock-in here. Take your content and go if you want","Open protocols mean anyone can build. No gatekeepers","Your DID (Decentralized ID) follows you everywhere on the network","Bluesky runs on AT Protocol—think email, but for social media","One account, many apps. That\'s the power of interoperability","Your posts live in your repository. You own the signed data","Custom feeds, custom mods, custom apps. All on the same protocol"]}');var o=t(9926),l=t.n(o);function d({isActive:e}){let[s,t]=(0,i.useState)("");return((0,i.useEffect)(()=>{if(e){let e=Math.floor(Math.random()*r.D.length);t(r.D[e])}},[e]),e)?(0,a.jsx)("div",{className:l().overlay,children:(0,a.jsxs)("div",{className:l().content,children:[(0,a.jsx)(n.e,{size:32,weight:"duotone",className:l().spinner}),(0,a.jsx)("p",{className:l().message,children:s})]})}):null}},3423:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var a=t(5155),i=t(8143),n=t.n(i);let r=e=>{if(!e)return[e];let s=/((https?:\/\/|www\.)[^\s<]+[^<.,:;"')\]\s>])/g,t=/([\w+.]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+)/g;return e.split(/((?:https?:\/\/|www\.)[^\s]+|[\w+.]+@[\w-]+\.[\w.-]+)/g).map((e,i)=>{if(s.test(e)){let s=e;return e.startsWith("www.")&&(s=`https://${e}`),(0,a.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:n().link,onClick:e=>e.stopPropagation(),children:e},i)}return t.test(e)?(0,a.jsx)("a",{href:`mailto:${e}`,className:n().link,onClick:e=>e.stopPropagation(),children:e},i):e})};function o({text:e,facets:s,isProfileDescription:t=!1}){if(!e)return null;if(!s||0===s.length)return(0,a.jsx)(a.Fragment,{children:e.split("\n\n").map((e,s)=>(0,a.jsx)("div",{className:n().paragraph,children:t?r(e):e},s))});let i=[],o=new TextEncoder().encode(e),l=new TextDecoder,d=[...s].sort((e,s)=>e.index.byteStart-s.index.byteStart),c=0;for(let e of d){if(e.index.byteStart<c)continue;if(e.index.byteStart>c){let s=o.slice(c,e.index.byteStart),a=l.decode(s);a&&(t?i.push(...r(a)):i.push(a))}let s=o.slice(e.index.byteStart,e.index.byteEnd),d=l.decode(s),u=e.features[0];if(!u){i.push(d),c=e.index.byteEnd;continue}if("app.bsky.richtext.facet#mention"===u.$type)i.push((0,a.jsx)("a",{href:`https://bsky.app/profile/${u.did}`,className:n().mention,onClick:e=>e.stopPropagation(),target:"_blank",rel:"noopener",children:d},`mention-${e.index.byteStart}-${e.index.byteEnd}`));else if("app.bsky.richtext.facet#link"===u.$type)i.push((0,a.jsx)("a",{href:u.uri,target:"_blank",rel:"noopener",className:n().link,onClick:e=>e.stopPropagation(),children:d},`link-${e.index.byteStart}-${e.index.byteEnd}`));else if("app.bsky.richtext.facet#tag"===u.$type){let s=u.tag||(d.startsWith("#")?d.slice(1):d);i.push((0,a.jsx)("a",{href:`https://bsky.app/hashtag/${encodeURIComponent(s)}`,className:n().hashtag,onClick:e=>e.stopPropagation(),target:"_blank",rel:"noopener",children:d},`tag-${e.index.byteStart}-${e.index.byteEnd}`))}else i.push(d);c=e.index.byteEnd}if(c<o.length){let e=o.slice(c),s=l.decode(e);s&&(t?i.push(...r(s)):i.push(s))}let u=[],p=[];for(let e of i)if("string"==typeof e){let s=e.split("\n\n");for(let e=0;e<s.length;e++)e>0&&p.length>0&&(u.push([...p]),p=[]),s[e]&&p.push(s[e])}else p.push(e);return p.length>0&&u.push(p),(0,a.jsx)(a.Fragment,{children:u.map((e,s)=>(0,a.jsx)("div",{className:n().paragraph,children:e.map((e,t)=>"string"==typeof e?(0,a.jsx)("span",{children:e},`${s}-text-${t}`):(0,a.jsx)("span",{children:e},`${s}-element-${t}`))},s))})}},3497:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=e=>{if(null==e)return null;let s=Number(e);if(isNaN(s))return null;if(0===s)return"0";if(s<1e3)return s.toLocaleString();if(s<1e6){let e=s/1e3;return`${e.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2})}k`}if(s<1e9){let e=s/1e6;return`${e.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2})}m`}let t=s/1e9;return`${t.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2})}b`}},4147:e=>{e.exports={menuContainer:"PostMenu_menuContainer__VnZ2o",menuButton:"PostMenu_menuButton__sNAk5",dropdown:"PostMenu_dropdown__pXc5V",dropdownItem:"PostMenu_dropdownItem__Lzwsu",copiedIcon:"PostMenu_copiedIcon__9wAVo",divider:"PostMenu_divider__n_M37",discussionButton:"PostMenu_discussionButton__aCZjl"}},5135:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var a=t(5155),i=t(9513),n=t(3423);let r=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"";var o=t(7697),l=t.n(o),d=t(3497);function c({profile:e,className:s="",compact:t=!1}){return e?t?(0,a.jsxs)("div",{className:`${l().profile} ${l().compact} ${s}`,children:[(0,a.jsxs)("div",{className:l().profileHeader,children:[(0,a.jsx)("img",{src:e.avatar,alt:e.displayName,className:l().avatar}),(0,a.jsxs)("div",{className:l().info,children:[(0,a.jsxs)("div",{className:l().nameRow,children:[(0,a.jsx)("span",{className:l().displayName,children:e.displayName}),(0,a.jsx)(i.A,{actor:e})]}),(0,a.jsxs)("span",{className:l().handle,children:["@",e.handle]})]})]}),(0,a.jsxs)("div",{className:l().details,children:[e.description&&(0,a.jsx)("div",{className:l().description,children:(0,a.jsx)(n.A,{text:e.description,facets:e.descriptionFacets,isProfileDescription:!0})}),(0,a.jsx)("div",{className:l().footer,children:(0,a.jsxs)("span",{children:["Joined ",r(e.createdAt)]})})]})]}):(0,a.jsxs)("div",{className:`${l().profile} ${s}`,children:[(0,a.jsxs)("div",{className:l().profileHeader,children:[(0,a.jsx)("img",{src:e.avatar,alt:e.displayName,className:l().avatar}),(0,a.jsxs)("div",{className:l().info,children:[(0,a.jsxs)("div",{className:l().nameRow,children:[(0,a.jsx)("span",{className:l().displayName,children:e.displayName}),(0,a.jsx)(i.A,{actor:e})]}),(0,a.jsxs)("span",{className:l().handle,children:["@",e.handle]})]})]}),(0,a.jsxs)("div",{className:l().details,children:[(0,a.jsxs)("div",{className:l().profileStats,children:[(0,a.jsxs)("p",{className:l().count,children:[(0,a.jsx)("strong",{children:(0,d.Z)(e.followersCount)})," followers"]}),(0,a.jsxs)("p",{className:l().count,children:[(0,a.jsx)("strong",{children:(0,d.Z)(e.followsCount)})," following"]}),(0,a.jsxs)("p",{className:l().count,children:[(0,a.jsx)("strong",{children:(0,d.Z)(e.postsCount)})," posts"]})]}),e.description&&(0,a.jsx)("div",{className:l().description,children:(0,a.jsx)(n.A,{text:e.description,facets:e.descriptionFacets,isProfileDescription:!0})}),(0,a.jsx)("div",{className:l().footer,children:(0,a.jsxs)("span",{children:["Joined ",r(e.createdAt)]})})]})]}):null}},6333:e=>{e.exports={modalHeader:"SourcesModal_modalHeader__MT1sE",toolbar:"SourcesModal_toolbar__1j_C4",scrollArea:"SourcesModal_scrollArea__jJ5tG",searchInput:"SourcesModal_searchInput__52LRJ",iconButton:"SourcesModal_iconButton__aEpQz",active:"SourcesModal_active__zWE_K",profileList:"SourcesModal_profileList__77La6",profileWrapper:"SourcesModal_profileWrapper__G847O"}},7083:(e,s,t)=>{"use strict";t.d(s,{A:()=>T});var a=t(5155),i=t(2115),n=t(2498),r=t(4864),o=t(686),l=t(7757),d=t(9228),c=t(3497),u=t(9704),p=t(9513),h=t(3423),m=t(7431),_=t(8130),x=t.n(_);function f({post:e,onOpenDiscussions:s}){let[t,n]=(0,i.useState)(null),{author:_,record:f,replyCount:v,quoteCount:g,likeCount:j,repostCount:y,bookmarkCount:b,uri:w,embed:N,indexedAt:k}=e.post;_.handle,w.split("/").pop();let C=N?.external?.uri;return(0,a.jsxs)("div",{className:x().card,onClick:()=>{C&&window.open(C,"_blank","noopener,noreferrer")},children:[(0,a.jsxs)("div",{className:x().thumbnailContainer,children:[(0,a.jsx)("img",{src:N?.external?.thumb||"/new-horizons/fallback-thumbnail.png",alt:N?.external?.title||"Post thumbnail",className:x().thumb,onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src="/new-horizons/fallback-thumbnail.png"}}),(j>0||y>0||b>0)&&(0,a.jsxs)("div",{className:x().statsOverlay,children:[j>0&&(0,a.jsxs)("span",{children:[(0,a.jsx)(r.B,{weight:"fill"})," ",(0,c.Z)(j)]}),y>0&&(0,a.jsxs)("span",{children:[(0,a.jsx)(o.k,{})," ",(0,c.Z)(y)]}),b>0&&(0,a.jsxs)("span",{children:[(0,a.jsx)(l.D,{weight:"fill"})," ",(0,c.Z)(b)]})]})]}),(0,a.jsxs)("div",{className:x().content,children:[(0,a.jsx)("h2",{className:x().title,children:N?.external?.title||"No Title"}),(0,a.jsx)("p",{className:x().description,children:N?.external?.description||"No Description"}),(0,a.jsxs)("div",{className:x().meta,children:[(0,a.jsxs)("div",{className:x().authorInfo,children:[(0,a.jsx)("img",{src:_.avatar||"/new-horizons/profile.svg",alt:_.displayName,className:x().avatar,onError:e=>{e.target.src="/new-horizons/profile.svg"}}),(0,a.jsxs)("span",{className:x().handle,children:["@",_.handle]}),(0,a.jsx)(p.A,{actor:_}),(0,a.jsx)("span",{className:x().timestamp,children:(0,u.E)(k)})]}),(0,a.jsx)("div",{className:x().actions,children:(0,a.jsx)(m.A,{post:e.post})})]}),f.text&&(0,a.jsx)("div",{className:x().postText,children:(0,a.jsx)(h.A,{text:f.text,facets:f.facets})}),(0,a.jsx)("div",{className:x().interactions,children:v>0||g>0?(0,a.jsxs)("button",{className:x().discussionButton,onClick:t=>{var a;return a=()=>s(e.post),void(t.stopPropagation(),t.preventDefault(),a())},children:[(0,a.jsx)(d.N,{size:18,weight:"duotone"}),"View discussions (",(0,c.Z)((v||0)+(g||0)),")"]}):(0,a.jsx)("i",{children:"No interactions yet"})})]})]})}var v=t(2699),g=t(926),j=t(4615),y=t(4807),b=t(2219),w=t(5135),N=t(6333),k=t.n(N);function C({listUri:e,onClose:s,onProfileSelect:t}){let[n,r]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[d,c]=(0,i.useState)(""),[u,p]=(0,i.useState)("asc"),[h,m]=(0,i.useState)(!1);(0,i.useEffect)(()=>{(async()=>{let s;if(!e)return;l(!0),r([]);let t=[];try{do{let a=`https://public.api.bsky.app/xrpc/app.bsky.graph.getList?list=${e}&limit=100`;s&&(a+=`&cursor=${s}`);let i=await fetch(a),n=await i.json();if(n.items){let e=n.items.map(e=>e.subject);t=[...t,...e]}s=n.cursor}while(s);r(t)}catch(e){console.error("Failed to fetch all sources:",e),r([])}finally{l(!1)}})()},[e]);let _=(0,i.useMemo)(()=>n.filter(e=>{let s=e.displayName?.toLowerCase().includes(d.toLowerCase())||e.handle.toLowerCase().includes(d.toLowerCase()),t=!h||e.verification;return s&&t}).sort((e,s)=>{let t=e.displayName?.toLowerCase()||e.handle.toLowerCase(),a=s.displayName?.toLowerCase()||s.handle.toLowerCase();return"asc"===u?t.localeCompare(a):a.localeCompare(t)}),[n,d,u,h]);return(0,a.jsxs)(b.A,{onClose:s,children:[(0,a.jsx)("div",{className:k().modalHeader,children:(0,a.jsxs)("div",{className:k().toolbar,children:[(0,a.jsx)("input",{type:"text",placeholder:o?"Loading sources...":`Search ${n.length} profiles...`,value:d,onChange:e=>c(e.target.value),className:k().searchInput,disabled:o}),(0,a.jsx)("button",{onClick:()=>p("asc"===u?"desc":"asc"),className:k().iconButton,children:"asc"===u?(0,a.jsx)(g.Z,{size:16}):(0,a.jsx)(j.X,{size:16})}),(0,a.jsx)("button",{onClick:()=>m(!h),className:`${k().iconButton} ${h?k().active:""}`,children:(0,a.jsx)(y.wJ,{size:16})})]})}),(0,a.jsx)("div",{className:k().scrollArea,children:(0,a.jsx)("div",{className:k().profileList,children:o?(0,a.jsx)("p",{children:"Loading sources..."}):_.length>0?_.map(e=>(0,a.jsx)("div",{className:k().profileWrapper,onClick:()=>{t(e),s()},children:(0,a.jsx)(w.A,{profile:e,compact:!0})},e.did)):(0,a.jsx)("p",{children:"No sources found."})})})]})}var S=t(3002);let $=JSON.parse('{"news":{"recent":"at://did:plc:xglrcj6gmrpktysohindaqhj/app.bsky.graph.list/3lc34yoopje27","trending":"at://did:plc:xglrcj6gmrpktysohindaqhj/app.bsky.feed.generator/aaahn42hkwvf2"},"tech":{"recent":"at://did:plc:xglrcj6gmrpktysohindaqhj/app.bsky.graph.list/3lh6agik2oh2x","trending":"at://did:plc:xglrcj6gmrpktysohindaqhj/app.bsky.feed.generator/aaanqiwe5dvuu"}}');var M=t(338),A=t.n(M),D=t(1597),L=t(6792),P=t(1183),E=t(6849),B=t(9413);let z="https://public.api.bsky.app/xrpc";function T({category:e,initialFeedType:s="recent"}){let{isScrollingUp:t}=(0,n.L)(),[r,o]=(0,i.useState)([]),[l,d]=(0,i.useState)(s),[c,u]=(0,i.useState)(null),[h,m]=(0,i.useState)(void 0),[_,x]=(0,i.useState)(!0),[g,j]=(0,i.useState)(!0),[y,b]=(0,i.useState)(!1),[w,N]=(0,i.useState)(null),[k,M]=(0,i.useState)(!1),T=c?c.did:l,F=(0,i.useCallback)(async s=>{let t=!s;t?j(!0):b(!0);try{let a,i=(a="recent"===T?`${z}/app.bsky.feed.getListFeed?list=${$[e].recent}&limit=100`:"trending"===T?`${z}/app.bsky.feed.getFeed?feed=${$[e].trending}&limit=100`:`${z}/app.bsky.feed.getAuthorFeed?actor=${c.handle}&limit=100`,s&&(a+=`&cursor=${s}`),a),n=await fetch(i),r=await n.json(),l=r.feed.filter(e=>e.post.embed?.$type==="app.bsky.embed.external#view"&&e.post.embed.external.title&&e.post.embed.external.uri);o(e=>{let s=t?l:[...e,...l],a=new Map;return s.forEach(e=>a.set(e.post.uri,e)),Array.from(a.values())}),m(r.cursor),x(!!r.cursor)}catch(e){console.error("Failed to fetch feed:",e)}finally{t?j(!1):b(!1)}},[T,c,e]);(0,i.useEffect)(()=>{o([]),m(void 0),x(!0),F()},[F]);let I=e=>{u(null),d(e)},H=e=>N(e);return(0,a.jsxs)("div",{children:[(0,a.jsx)(S.A,{isActive:g}),(0,a.jsx)("div",{className:`${A().header} ${!t?A().hidden:""}`,children:c?(0,a.jsxs)("div",{className:A().profileHeader,onClick:()=>{u(null)},children:[(0,a.jsx)(D.Z,{size:16,weight:"bold"}),(0,a.jsxs)("div",{className:A().nameRow,children:[(0,a.jsx)("h3",{children:c.displayName}),(0,a.jsx)(p.A,{actor:c}),(0,a.jsxs)("p",{children:["@",c.handle]})]})]}):(0,a.jsxs)("div",{className:A().tabs,children:[(0,a.jsxs)("button",{onClick:()=>I("recent"),className:"recent"===l?A().activeTab:"",children:[(0,a.jsx)(L.z,{size:16,weight:"duotone"}),"Recent"]}),(0,a.jsxs)("button",{onClick:()=>I("trending"),className:"trending"===l?A().activeTab:"",children:[(0,a.jsx)(P.r,{size:16,weight:"duotone"}),"Trending"]}),(0,a.jsxs)("button",{onClick:()=>M(!0),className:"sources"===l?A().activeTab:"",children:[(0,a.jsx)(E.x,{size:16,weight:"duotone"}),"Sources"]})]})}),!g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:A().grid,children:r.map(e=>(0,a.jsx)(f,{post:e,onOpenDiscussions:H},e.post.uri))}),(0,a.jsxs)("div",{className:A().footer,children:[y&&(0,a.jsx)("p",{children:"Loading more..."}),!g&&_&&r.length>0&&(0,a.jsxs)("button",{onClick:()=>{h&&!y&&F(h)},disabled:y,className:A().loadMoreButton,children:[(0,a.jsx)(B.y,{size:20,weight:"duotone"}),"Load More"]}),!_&&r.length>0&&(0,a.jsx)("p",{children:"You've reached the end of the feed."}),!g&&0===r.length&&(0,a.jsx)("p",{children:"No posts with links found."})]})]}),w&&(0,a.jsx)(v.A,{post:w,onClose:()=>N(null)}),k&&(0,a.jsx)(C,{listUri:$[e].recent,onClose:()=>M(!1),onProfileSelect:e=>{u(e)}})]})}},7431:(e,s,t)=>{"use strict";t.d(s,{A:()=>f});var a=t(5155),i=t(2115),n=t(7650),r=t(1719),o=t(4840),l=t(3256),d=t(6821),c=t(8461),u=t(6587),p=t(3602),h=t(2221),m=t(4147),_=t.n(m);let x=({options:e,menuButtonRef:s,onClose:t})=>{let o=(0,i.useRef)(null),[l,d]=(0,i.useState)({top:0,left:0});return(0,i.useEffect)(()=>{let e=()=>{if(!s.current||!o.current)return;let e=s.current.getBoundingClientRect(),t=o.current.offsetHeight||300,a=window.innerWidth,i=window.innerHeight,n=e.right-220,r=e.bottom+4;n<10&&(n=e.left),n+220>a-10&&(n=a-220-10),r+t>i-10&&(r=e.top-t-4),r<10&&(r=10),d({top:r,left:n})};e();let t=setTimeout(e,10);return window.addEventListener("scroll",e,!0),window.addEventListener("resize",e),()=>{clearTimeout(t),window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",e)}},[s]),(0,i.useEffect)(()=>{let e=e=>{o.current&&!o.current.contains(e.target)&&s.current&&!s.current.contains(e.target)&&t()};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[t,s]),(0,n.createPortal)((0,a.jsx)("div",{ref:o,className:_().dropdown,style:{position:"fixed",top:`${l.top}px`,left:`${l.left}px`,maxHeight:"calc(100vh - 20px)",overflowY:"auto"},children:e.map((e,s)=>{if("divider"===e.type)return(0,a.jsx)("hr",{className:_().divider},s);let t=s=>{s.stopPropagation(),s.preventDefault(),e.handleAction()},i=e.icon;return(0,a.jsxs)("button",{onClick:t,className:_().dropdownItem,onTouchEnd:t,children:[e.isCopied?(0,a.jsx)(r.r,{size:18,weight:"fill",className:_().copiedIcon}):(0,a.jsx)(i,{size:18,weight:"duotone"}),(0,a.jsx)("span",{children:e.label})]},e.label)})}),document.body)};function f({post:e}){var s;let[t,n]=(0,i.useState)(!1),[r,m]=(0,i.useState)(null),f=(0,i.useRef)(null),v=e=>{e.stopPropagation(),e.preventDefault(),n(!t)},g=(e,s)=>{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")&&(m(s),setTimeout(()=>m(null),2e3))}catch(e){console.error("Fallback copy failed:",e)}document.body.removeChild(t)},j=(e,s)=>{navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(e).then(()=>{m(s),setTimeout(()=>m(null),2e3)}).catch(t=>{console.error("Clipboard write failed:",t),g(e,s)}):g(e,s),setTimeout(()=>n(!1),300)},y=(e,s)=>`https://bsky.app/profile/${e}/post/${s}`,b=(s=e.embed,s?.$type==="app.bsky.embed.external#view"?s.external.uri:s?.$type==="app.bsky.embed.recordWithMedia#view"&&s.media?.$type==="app.bsky.embed.external#view"?s.media.external.uri:null),w=e.uri.split("/").pop(),N=[{label:"Copy DID",icon:o.$,handleAction:()=>j(e.author.did,"Copy DID")},{label:"Copy Handle",icon:l.At,handleAction:()=>j(e.author.handle,"Copy Handle")},{label:"Copy Display Name",icon:d.K,handleAction:()=>j(e.author.displayName||"","Copy Display Name")},{label:"Copy AT URI",icon:c.X,handleAction:()=>j(e.uri,"Copy AT URI")},{label:"Copy Bluesky Link",icon:u.A,handleAction:()=>j(y(e.author.handle,w),"Copy Bluesky Link")},b&&{label:"Copy External Link",icon:c.X,handleAction:()=>j(b,"Copy External Link")},{type:"divider"},{label:"View Post on Bluesky",icon:p.B,handleAction:()=>{window.open(y(e.author.handle,w),"_blank"),setTimeout(()=>n(!1),300)}}].filter(Boolean).map(e=>({...e,isCopied:r===e.label}));return(0,a.jsxs)("div",{className:_().menuContainer,children:[(0,a.jsx)("button",{ref:f,className:_().menuButton,onClick:v,onTouchEnd:v,title:"More options",children:(0,a.jsx)(h.H,{size:20})}),t&&(0,a.jsx)(x,{options:N,menuButtonRef:f,onClose:()=>n(!1)})]})}},7697:e=>{e.exports={profile:"ProfileCard_profile__jXLGQ",profileHeader:"ProfileCard_profileHeader__3ESDc",avatar:"ProfileCard_avatar__nJn_e",details:"ProfileCard_details__SrMpI",nameRow:"ProfileCard_nameRow__LxoOK",displayName:"ProfileCard_displayName__UFXlm",handle:"ProfileCard_handle__1_Dyf",profileStats:"ProfileCard_profileStats__Qi3t8",count:"ProfileCard_count__5hefX",description:"ProfileCard_description__sale1",footer:"ProfileCard_footer__4J70t"}},8130:e=>{e.exports={card:"PostCard_card__12WWG",thumbnailContainer:"PostCard_thumbnailContainer__6JJg4",thumb:"PostCard_thumb__PnwKM",discussionButton:"PostCard_discussionButton__BFcNs",statsOverlay:"PostCard_statsOverlay__wC8LE",content:"PostCard_content__zLcDo",title:"PostCard_title__YgjbC",description:"PostCard_description___2a6A",meta:"PostCard_meta__IGiza",authorInfo:"PostCard_authorInfo__A4HmI",avatar:"PostCard_avatar__fQg67",handle:"PostCard_handle__lHeFw",timestamp:"PostCard_timestamp__HMWeG",actions:"PostCard_actions__qTRaX",postText:"PostCard_postText__5II9F",interactions:"PostCard_interactions__WzwWM"}},8143:e=>{e.exports={link:"RichText_link__afgi4"}},9513:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(5155),i=t(4807),n=t(1719),r=t(1113),o=t.n(r);function l({actor:e}){if(!e||!e.verification)return null;let{verification:s,handle:t}=e,{verifiedStatus:r,trustedVerifierStatus:l,verifications:d}=s;return"valid"!==l||"bsky.app"!==t&&d&&0!==d.length?"valid"===l?(0,a.jsx)(i.wJ,{className:`${o().badge} ${o().trustedGreen}`,weight:"fill",title:"Trusted Verifier",size:18}):"valid"===r&&d?.length>0&&d.some(e=>!0===e.isValid)?(0,a.jsx)(n.r,{className:`${o().badge} ${o().verifiedBlue}`,weight:"fill",title:"Verified Account",size:18}):null:(0,a.jsx)(i.wJ,{className:`${o().badge} ${o().verifiedGolden}`,weight:"fill",title:"Original Trusted Verifier",size:18})}},9704:(e,s,t)=>{"use strict";t.d(s,{E:()=>a});let a=e=>{if(!e)return"";let s=new Date,t=new Date(e),a=Math.floor((s-t)/1e3);if(a<60)return`${a}s`;let i=Math.floor(a/60);if(i<60)return`${i}m`;let n=Math.floor(i/60);return n<24?`${n}h`:365>Math.floor(n/24)?t.toLocaleDateString("en-US",{month:"short",day:"numeric"}):t.toLocaleDateString("en-US")}},9926:e=>{e.exports={overlay:"LoadingOverlay_overlay___vMcG",content:"LoadingOverlay_content__OO7hy",spinner:"LoadingOverlay_spinner__UGiYE",spin:"LoadingOverlay_spin__BJhFZ",message:"LoadingOverlay_message__ZC7qc"}}}]);